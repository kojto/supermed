<odoo>
	<data>
		<!-- List Views -->
		<record model="ir.ui.view" id="view_trinity_examination_type_list">
			<field name="name">trinity.examination.type.list</field>
			<field name="model">trinity.examination.type</field>
			<field name="arch" type="xml">
				<list limit="100" sample="1">
					<field name="active" optional="show" widget="boolean_toggle" class="w-100 d-flex justify-content-center"/>
					<field name="top_choice" optional="show" widget="boolean_toggle" class="w-100 d-flex justify-content-center"/>
					<field name="secondary_examination" widget="boolean_toggle" class="w-100 d-flex justify-content-center" optional="show"/>
					<field name="diagnosticReport" widget="boolean_toggle" class="w-100 d-flex justify-content-center" optional="show"/>
					<field name="name" optional="show"/>
					<field name="nhif_procedure_code" optional="show"/>
					<field name="primary_to_examination_type" optional="hide"/>
					<field name="secondary_to_examination_type" optional="hide"/>
					<field name="examination_type" optional="show"/>
					<field name="prices" optional="hide"/>
					<field name="cost_bearer_id" optional="show"/>
					<field name="habilitation_required" optional="show"/>
					<field name="financingSource" optional="show"/>
					<field name="diagnosticReport_code" optional="show"/>
				</list>
			</field>
		</record>
		<!-- Form Views -->
		<record model="ir.ui.view" id="view_trinity_examination_type_form">
			<field name="name">trinity.examination.type.form</field>
			<field name="model">trinity.examination.type</field>
			<field name="arch" type="xml">
				<form>
					<link rel="stylesheet" type="text/css" href="/trinity_file_assets/static/src/css/custom.css"/>
					<style>
                        .o_list_renderer.o_renderer.table-responsive .o_list_table th[data-name="active"],
                        .o_list_renderer.o_renderer.table-responsive .o_list_table td[name="active"] {
                            max-width: 50px !important;
                        }
                        .o_list_renderer tbody tr:has(td[colspan]:only-child):not(:has(a)) {
                            display: none !important;
                        }
                        .o_list_renderer.o_renderer.table-responsive .o_list_table th[data-name="price"],
                        .o_list_renderer.o_renderer.table-responsive .o_list_table td[name="price"] {
                            max-width: 100px !important;
                        }
                        .o_list_renderer.o_renderer.table-responsive .o_list_table th[data-name="price_onsite"],
                        .o_list_renderer.o_renderer.table-responsive .o_list_table td[name="price_onsite"] {
                            max-width: 100px !important;
                        }
                        .o_list_renderer.o_renderer.table-responsive .o_list_table th[data-name="currency_id"],
                        .o_list_renderer.o_renderer.table-responsive .o_list_table td[name="currency_id"] {
                            max-width: 100px !important;
                        }
                        .o_list_renderer.o_renderer.table-responsive .o_list_table th[data-name="active_from"],
                        .o_list_renderer.o_renderer.table-responsive .o_list_table td[name="active_from"] {
                            max-width: 100px !important;
                        }
                        .o_list_renderer.o_renderer.table-responsive .o_list_table th[data-name="active_until"],
                        .o_list_renderer.o_renderer.table-responsive .o_list_table td[name="active_until"] {
                            max-width: 100px !important;
                        }

						table > thead > tr {
						border-left: 1px solid rgba(11, 83, 148, 0.2) !important;
						border-right: 1px solid rgba(11, 83, 148, 0.2) !important;
						border-bottom: 1px solid rgba(11, 83, 148, 0.2) !important;
						border-top: 1px solid rgba(11, 83, 148, 0.2) !important;
						}

						table > thead > tr > th {
						border-left: 0px !important;
						border-right: 0px !important;
						border-bottom: 0px !important;
						border-top: 0px !important;
						}
					</style>
					<sheet>
						<div class="oe_title d-flex align-items-center">
							<field name="name" class=" fw-bold fs-4 text-uppercase" readonly="1"/>
						</div>
						<div class="row">
							<group class="col-lg-6">
								<separator class="col-lg-12 separator"/>
								<field name="diagnosticReport_code" widget="selection_input" options="{'no_quick_create':True,'no_create_edit':True,'no_open': True}"/>
								<field name="nhif_procedure_code"/>
								<field name="examination_type"/>
								<field name="diagnosticReport_status" widget="selection_input" options="{'no_quick_create':True,'no_create_edit':True,'no_open': True}"/>
							</group>
							<group class="col-lg-6">
								<separator class="col-lg-12 separator"/>
								<field name="secondary_examination" widget="boolean_toggle"/>
								<field name="diagnosticReport" widget="boolean_toggle"/>
								<field name="active" widget="boolean_toggle"/>
								<field name="top_choice" widget="boolean_toggle"/>
							</group>
							<group class="col-lg-6">
								<separator class="col-lg-12 separator"/>
								<field name="cost_bearer_id" options="{'no_quick_create':True,'no_create_edit':True,'no_open': True}"/>
								<field name="valid_for_specialities" widget="many2many_tags" options="{'no_quick_create':True,'no_create_edit':True,'no_open': True}"/>
								<field name="primary_to_examination_type" invisible="secondary_examination != False" options="{'no_quick_create':True,'no_create_edit':True,'no_open': True}"/>
								<field name="secondary_to_examination_type" invisible="secondary_examination == False" options="{'no_quick_create':True,'no_create_edit':True,'no_open': True}"/>
							</group>
							<group class="col-lg-6">
								<separator class="col-lg-12 separator"/>
								<field name="habilitation_required" widget="radio"/>
							</group>
						</div>
						<separator class="col-lg-12 separator"/>
						<div class="row">
							<div class="col-lg-12">
								<field name="prices" nolabel="1" domain="[]" context="{'active_test': False}">
									<list editable="bottom" order="active_from desc" class="ko-list-main">
										<field name="active" widget="boolean_toggle"/>
										<field name="currency_id"/>
										<field name="price"/>
										<field name="price_onsite"/>
										<field name="active_from"/>
										<field name="active_until"/>
									</list>
								</field>
							</div>
						</div>
					</sheet>
				</form>
			</field>
		</record>
		<!-- List View for Examination Type Prices -->
		<record model="ir.ui.view" id="view_trinity_examination_type_prices_list">
			<field name="name">trinity.examination.type.prices.list</field>
			<field name="model">trinity.examination.type.prices</field>
			<field name="arch" type="xml">
				<list string="Examination Type Prices" editable="bottom" class="ko-list-main">
					<field name="examination_type_id"/>
					<field name="active" widget="boolean_toggle"/>
					<field name="currency_id"/>
					<field name="price"/>
					<field name="price_onsite"/>
					<field name="active_from"/>
					<field name="active_until"/>
				</list>
			</field>
		</record>

		<!-- Search View for Examination Type Prices -->
		<record model="ir.ui.view" id="view_trinity_examination_type_prices_search">
			<field name="name">trinity.examination.type.prices.search</field>
			<field name="model">trinity.examination.type.prices</field>
			<field name="arch" type="xml">
				<search string="Examination Type Prices">
					<field name="examination_type_id"/>
					<field name="currency_id"/>
					<separator/>
					<filter name="show_all" string="Show All" domain="[]" context="{}"/>
					<filter name="active" string="Active" domain="[('active', '=', True)]"/>
					<filter name="inactive" string="Inactive" domain="[('active', '=', False)]"/>
                    <filter name="examination_type_id" string="Услуга"/>
                    <group expand="0" string="Групиране по">
						<filter name="examination_type_id" string="Услуга" context="{'group_by':'examination_type_id'}"/>
					</group>
				</search>
			</field>
		</record>

		<!-- Action for Examination Type Prices -->
		<record model="ir.actions.act_window" id="action_trinity_examination_type_prices">
			<field name="name">Цени на услуги</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">trinity.examination.type.prices</field>
			<field name="view_mode">list,form</field>
			<field name="context">{'search_default_show_all': 1}</field>
			<field name="help" type="html">
				<p class="o_view_nocontent_smiling_face">Create Your Price Records.</p>
			</field>
		</record>

		<!-- Search Views -->
		<record model="ir.ui.view" id="view_trinity_examination_type_search">
			<field name="name">trinity.examination.type.search</field>
			<field name="model">trinity.examination.type</field>
			<field name="arch" type="xml">
				<search string="Examination Type">
					<field name="name"/>
					<field name="examination_type"/>
					<separator/>
					<filter name="active" string="Active" domain="[('active', '=', True)]"/>
					<filter name="inactive" string="Inactive" domain="[('active', '=', False)]"/>
					<group expand="1" string="Group By">
						<filter name="cost_bearer_id" string="Носител на разходите" context="{'group_by':'cost_bearer_id'}"/>
						<filter name="habilitation_required" string="Хабилитация" context="{'group_by':'habilitation_required'}"/>
					</group>
				</search>
			</field>
		</record>
		<!-- Actions to Return Model Views -->
		<record model="ir.actions.act_window" id="action_trinity_examination_type">
			<field name="name">Услуги</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">trinity.examination.type</field>
			<field name="view_mode">list,form</field>
			<field name="context">{}</field>
			<field name="help" type="html">
				<p class="o_view_nocontent_smiling_face">Create Your Examination Types.</p>
			</field>
		</record>
		<record model="ir.actions.act_window" id="action_trinity_examination_type_form">
			<field name="name">Нова услуга</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">trinity.examination.type</field>
			<field name="view_mode">form</field>
			<field name="target">current</field>
		</record>
		<!-- Menu Items -->
		<menuitem name="Услуги" id="menu_examination_type_parent" parent="trinity_medical_facility.menu_medical_facility_parent" sequence="60"/>
		<menuitem name="Услуги" id="menu_trinity_examination_type" parent="menu_examination_type_parent" sequence="10" action="action_trinity_examination_type"/>
		<menuitem name="Цени на услуги" id="menu_trinity_examination_type_prices" parent="menu_examination_type_parent" sequence="20" action="action_trinity_examination_type_prices"/>
	</data>
</odoo>
