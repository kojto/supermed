<odoo>
	<data>
		<!-- List Views -->
		<record model="ir.ui.view" id="view_trinity_referral_check_list">
			<field name="name">trinity.referral.check.list</field>
			<field name="model">trinity.referral.check</field>
			<field name="arch" type="xml">
				<list limit="100" sample="1">
					<field name='nrnReferral' string='направление НРН' optional='show'/>
					<field name='response_nrnReferral' string='направление НРН' optional='show'/>
					<field name='response_authoredOn' string='Дата НРН' optional='show'/>
					<field name="response_status" string="Статус"/>
				</list>
			</field>
		</record>
		<!-- Form Views -->
		<record model="ir.ui.view" id="view_trinity_referral_check_form">
			<field name="name">trinity.referral.check.form</field>
			<field name="model">trinity.referral.check</field>
			<field name="arch" type="xml">
				<form>
					<link rel="stylesheet" type="text/css" href="/trinity_file_assets/static/src/css/custom.css"/>
					<sheet>
						<div style="display: flex; justify-content: right;">
							<button name="getToken" string="Изгради връзка с НЗИС" type="object" class="btn btn-outline-primary btn-md d-none" onclick="getToken()" style="margin: 20px;"/>
							<button name="post_token_api_request" string="post_token_api_request" type="object" class="d-none" style="margin: 20px;"/>
							<button name="getSignatureR009" string="Провери направление" type="object" class="btn btn-outline-primary btn-md" style="margin: 20px;" onclick="getSignatureR009()"/>
							<button name="R009_api_request" string="Провери" type="object" class="d-none" style="margin: 20px;"/>
						</div>
						<div class="oe_title">
							<h1>Направление</h1>
						</div>
						<separator class='col-lg-12 separator'/>
						<group class='col-lg-12'>
							<field name="nrnReferral" string="НРН №"/>
							<field name="response_status" string="Статус" readonly="1"/>
							<field name="response_nrnReferral" string="НРН №" readonly="1"/>
						</group>
						<group class='col-lg-12'>
							<field name="R009" id="R009" widget="text" string="R009"/>
							<field name="R010" id="R010" widget="text" string="R010"/>
							<field name="SignedInfo_R009" id="SignedInfo_R009" widget="text" string="SignedInfo"/>
							<field name="SignedInfo_R009_signature" id="SignedInfo_R009_signature" widget="text" string="SignedInfo signature"/>
							<field name="R009_signed" id="R009_signed"/>

							<field name="user_token_certificate" id="user_token_certificate" widget="text"/>
							<field name="supermed_certificate" id="supermed_certificate" widget="text"/>
							<field name="tokenRequest" id="tokenRequest" widget="text" string="tokenRequest"/>
							<field name="SignedInfo_tokenRequest" id="SignedInfo_tokenRequest" widget="text" string="SignedInfo_tokenRequest"/>
							<field name="SignedInfo_tokenRequest_signature" id="SignedInfo_tokenRequest_signature" widget="text" string="SignedInfo_tokenRequest_signature"/>
							<field name="tokenRequest_signed" id="tokenRequest_signed" widget="text" string="tokenRequest_signed"/>
							<field name="tokenResponse" id="tokenResponse" widget="text" string="tokenResponse"/>
							<field name="user_token_expiresOnDatetime" id="user_token_expiresOnDatetime" string="user_token_expiresOnDatetime"/>
						</group>
					</sheet>
				<script type="text/javascript" src="/trinity_file_assets/static/src/js/getToken.js"></script>
				<script type="text/javascript" src="/trinity_file_assets/static/src/js/getSignature.js"></script>
				<script type="text/javascript" src="/trinity_file_assets/static/src/js/getSignatureNhifMessages.js"></script>
				</form>
			</field>
		</record>
		<!-- Search Views -->
		<record model="ir.ui.view" id="view_trinity_referral_check_search">
			<field name="name">trinity.referral.check.search</field>
			<field name="model">trinity.referral.check</field>
			<field name="arch" type="xml">
				<search string="referral">
					<field name='nrnReferral'/>
				</search>
			</field>
		</record>
		<!-- Actions to Return Model Views -->
		<record model="ir.actions.act_window" id="action_trinity_referral_check">
			<field name="name">Търси направления</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">trinity.referral.check</field>
			<field name="view_mode">list,form</field>
			<field name="context">{}</field>
			<field name="help" type="html">
				<p class="o_view_nocontent_smiling_face">
					Търси направления
				</p>
			</field>
		</record>
		<!-- Menu Items -->
		<menuitem name="Търси направления" id="menu_referral_check" parent="menu_referral_parent" action="action_trinity_referral_check" sequence="40"/>
	</data>
</odoo>
